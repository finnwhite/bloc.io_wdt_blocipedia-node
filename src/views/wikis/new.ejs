<!DOCTYPE html>
<html lang="en">
  <head>
    <%- include( "../includes/head-start.ejs",
      { docTitle: "Blocipedia | New Wiki" }
    ); -%>
  </head>
  <body>
    <%- include( "../includes/navbar.ejs" ); -%>
    <main class="container">
      <%- include( "../includes/messages.ejs" ); -%>

      <h1>New Wiki</h1>

      <div class="row">
        <div class="col-md">
          <form method="POST" action="/wikis/create">
            <div class="form-group">
              <div class="form-check form-check-inline">
                <input type="radio" class="form-check-input" name="private" id="makePublic" aria-label="Make public" value="0" checked>
                <label for="makePublic" class="form-check-label badge badge-secondary text-white">public</label>
              </div>
              <% if ( showPrivate ) { -%>
                <div class="form-check form-check-inline">
                  <input type="radio" class="form-check-input" name="private" id="makePrivate" aria-label="Make private" value="1">
                  <label for="makePrivate" class="form-check-label badge badge-secondary text-white">private</label>
                </div>
              <% } -%>
            </div>
            <div class="form-group">
              <label for="title">Title:</label>
              <input type="text" class="form-control" name="title" id="title" aria-describedby="titleHelp" placeholder="Enter title" oninput="this.preview.update()">
              <small id="titleHelp" class="form-text text-muted">Title must be at least 2 characters in length.</small>
            </div>
            <div class="form-group">
              <label for="body">Body Text:</label>
              <textarea rows="10" class="form-control" name="body" id="body" aria-describedby="bodyHelp" placeholder="Enter body text" oninput="this.preview.update()"></textarea>
              <small id="bodyHelp" class="form-text text-muted">Body text must be at least 4 characters in length.</small>
            </div>
            <button type="submit" class="btn btn-primary">Submit</button>
          </form>
        </div>
        <div class="col-md">
          <p>Preview:</p>
          <div class="markdown" id="preview"></div>
        </div>
      </div>

    </main>
    <%- include( "./includes/preview.ejs" ); -%>
    <%- include( "../includes/body-end.ejs" ); -%>
  </body>
</html>
